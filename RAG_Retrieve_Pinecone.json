{
  "name": "RAG_Retrieve_Pinecone",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "mode": "webhook",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -260,
        -140
      ],
      "id": "acda86e2-6c07-4b7a-a323-d29a4e8ee8c7",
      "name": "When chat message received",
      "webhookId": "d6b79a7f-1f41-4d86-aad6-7c32ceb19a31"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Always query the Pinecone vector database (namespace: \"asds\") before responding.\n\nRetrieve the most relevant documents using semantic similarity.\n\nUse only the content retrieved to answer the question.\n\nIf no relevant content is retrieved, reply: \"Not enough information available in the current knowledge base.\"\n\nNever use your own knowledge or make assumptions."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -40,
        -140
      ],
      "id": "97fc2620-976e-4384-a7bb-0395c4d32b78",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-3.5-turbo",
          "mode": "list",
          "cachedResultName": "gpt-3.5-turbo"
        },
        "options": {
          "temperature": 0.3
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -20,
        100
      ],
      "id": "d204626c-4f97-488f-95a5-ead0309f24fe",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "5MFXQz03YmkrK0X2",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        80,
        100
      ],
      "id": "536245fc-ffd3-4a77-9f88-10bb6080f86f",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "You are an AI agent connected to a Pinecone vector database.\n\nInstructions:\n1. Always search the Pinecone vector database namespace named \"asds\" before answering.\n2. Use semantic similarity to retrieve the most relevant documents or chunks from this namespace.\n3. Use only the retrieved content to formulate the final response.\n4. If no relevant information is found in \"asds\", respond with: \"Not enough information available in the current knowledge base.\"\n5. Answer clearly and accurately using only the context retrieved.\n\nNote:\n- Do not rely on your own pre-trained knowledge.\n- Do not hallucinate or assume beyond the retrieved content.\n- Never respond with fabricated or unrelated information.",
        "pineconeIndex": {
          "__rl": true,
          "value": "asds",
          "mode": "list",
          "cachedResultName": "asds"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        240,
        80
      ],
      "id": "7a50d9cb-d9a9-40c2-bfce-6386c0ec437a",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "Whbk6JlxfWj95YuP",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        340,
        206
      ],
      "id": "a37d3f59-af21-40a9-910e-e484376f20ef",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "5MFXQz03YmkrK0X2",
          "name": "OpenAi account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "e3bd573e-f5df-4fcb-9dbf-8ccb1b889f9d",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "e427e3fc1ae2a0c04783a8859058b647a51124d494bb36b9e6f752761d552f95"
  },
  "id": "QKQOKHa7EmioTjZi",
  "tags": []
}